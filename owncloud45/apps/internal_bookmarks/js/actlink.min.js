/**
* ownCloud - Internal Bookmarks plugin
*
* @author Xavier Beurois
* @copyright 2012 Xavier Beurois www.djazz-lab.net
* 
* This library is free software; you can redistribute it and/or
* modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE
* License as published by the Free Software Foundation; either 
* version 3 of the License, or any later version.
* 
* This library is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU AFFERO GENERAL PUBLIC LICENSE for more details.
*  
* You should have received a copy of the GNU Lesser General Public 
* License along with this library.  If not, see <http://www.gnu.org/licenses/>.
* 
* Minified with http://fmarcia.info/jsmin/test.html
* 
*/
$(document).ready(function(){var b={};if(typeof FileActions!=='undefined'){FileActions.register('dir','Internal Bookmark',function(d){var i;var r=$('#dir').val()+'/'+d;if(b[r])return b[r].i;$.ajax({type:'POST',url:OC.linkTo('internal_bookmarks','ajax/get.php'),dataType:'json',data:{c:r},async:false,success:function(k){if(k){i=OC.imagePath('internal_bookmarks','star_on.png');}else{i=OC.imagePath('internal_bookmarks','star_off.png');}b[r]={i:i};}});return i;},function(d){var i;var r=$('#dir').val()+'/'+d;$.ajax({type:'POST',url:OC.linkTo('internal_bookmarks','ajax/set.php'),dataType:'json',data:{c:r},async:false,success:function(k){if(k.r){i=OC.imagePath('internal_bookmarks','star_on.png');addNavEntry(k.e.bktitle,k.e.bktarget);}else{i=OC.imagePath('internal_bookmarks','star_off.png');document.location.reload();}b[r].i=i;}});});};function addNavEntry(t1,t2){$('ul#apps').append('<li><a title="" href="'+OC.linkTo('files','index.php?dir='+t2)+'" style="background-image:url('+OC.imagePath('internal_bookmarks','star_on.png')+')">'+t1+'</a></li>');}});